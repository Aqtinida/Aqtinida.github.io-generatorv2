
	
	<div> 
   <p><b>Дата и время начала выгрузки*</b><br>
  <input type="datetime-local" id="datetime" name="date"/>
  
     <p><b>Дата и время окончания выгрузки*</b><br>
<div> 
  <input type="datetime-local" id="datetimeend" name="date"/>

</div>
 <p id="resultlong"></p>
     <p><b>Часовой пояс местный*</b><br>
	 <input id="gmtloc" />
	      <p><b>Часовой пояс (GMT) по которому нужно выгрузить</b><br>
	 <input id="gmt" />
</div>
 <p id="result_unix"></p>
 <script>

 function complete(){
          var date = document.getElementById("datetime").value;
		  var result1 = Date.parse(date)/1000;
		  var gmt = Number(document.getElementById("gmtloc").value)-3;
		  var gmtloc = gmt*3600;
		  var gmtvig = Number(document.getElementById("gmt").value)-Number(document.getElementById("gmtloc").value);
		  var gmtvig2 = gmtvig*3600; 
		  var gmtvig1 = result1-gmtvig2;

          var dateend = document.getElementById("datetimeend").value;
		  var parseend = Date.parse(dateend)/1000;		  
          var duration = parseend-result1;
		  
          var part1 = "https://video2.sputnik.systems/";
          var part2 = document.getElementById("stream").value;
		  var part3 = "/archive-"
		  var part4 = result1+gmtloc + "-";
		  var part5 = duration;
		  var part6 = ".mp4"
		  var part7 = gmtvig1 + "-";
          var result = part1+part2+part3+part4+part5+part6;
		  var result2 = part1+part2+part3+part7+part5+part6;
		  var result3 = part1+part2+part3+result1+"-"+part5+part6;

          document.getElementById("streamres").innerHTML = result;
		  document.getElementById("streamres2").innerHTML = result2;
		  document.getElementById("streamres3").innerHTML = result3;
}
				
</script>




	<div> 
   <p><b>ID потока</b><br>
  <input id="stream" />
   <button onclick="complete()">Ссылка на потоки</button>
   </div>
   <p><b>Результат по Московскому времени</b><br>
 <p id="streamres"></p>
 <p><b>Результат по часовому поясу города выгрузки</b><br>
  <p id="streamres2"></p>
  <p><b>Результат по местному времени</b><br>
    <p id="streamres3"></p>
	
	

<div>
	  <p><b>UUID панели</b><br>
  <input id="uuid" />
	  <button onclick="endpoint()">Установить эндпоинты калитки</button>
</div>
 <script>

 function endpoint(){
var UUID = document.getElementById("uuid").value;
URL url = new URL("https://api.sputnik.systems/api/v1/account/devices/intercoms/+UUID");
HttpURLConnection http = (HttpURLConnection)url.openConnection();
http.setRequestMethod("PATCH");
http.setDoOutput(true);
http.setRequestProperty("Accept", "application/json");
http.setRequestProperty("Authorization", "Bearer 88e1abe7.eyJhbGciOiJIUzI1NiJ9.eyJlbnRpdHlfdXVpZCI6IjExNjkiLCJlbnRpdHlfdHlwZSI6InVzZXIiLCJlbnRpdHlfcmVmX3V1aWQiOiJiMTc4MmU0Zi05MTk4LTQ5ZDEtYjVhYS03YmRiYTljODdkMjEiLCJlbnRpdHlfbmFtZSI6bnVsbCwic2FsdCI6Ijg4ZTFhYmU3In0.F0XBk0oipaFKodrq-lbSM2EqyiOlerj5ID1Cy-SAb4k");
http.setRequestProperty("Content-Type", "application/json");

String data = "{\n\"boot_uri\": \"fs.dev.sputnik.systems\",\n\"websocket_url\": \"cws.dev.sputnik.systems:80\",\n\"config_url\": \"cs.dev.sputnik.systems:80\",\n\"sounds_url\": \"fs.dev.sputnik.systems:80\"\n}";

byte[] out = data.getBytes(StandardCharsets.UTF_8);

OutputStream stream = http.getOutputStream();
stream.write(out);

System.out.println(http.getResponseCode() + " " + http.getResponseMessage());
http.disconnect();
}
				
</script>	
